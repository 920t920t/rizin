---
import '../styles/global.css';
const { title = 'RIZIN 選手名鑑', description = 'RIZIN 選手名鑑（テキスト先行版）' } = Astro.props;
const canonical = Astro.site ? new URL(Astro.url.pathname, Astro.site).toString() : undefined;
---
<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content={description} />
    <link rel="icon" href="/favicon.svg" />
    <title>{title}</title>
    {canonical && <link rel="canonical" href={canonical} />}
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="RIZIN 選手名鑑" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    {canonical && <meta property="og:url" content={canonical} />}
    <meta name="twitter:card" content="summary" />
  </head>
  <body>
    <a href="#main" class="skip-link">本文へスキップ</a>
    <header>
      <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:10px 16px;">
        <nav>
          <a href={`${import.meta.env.BASE_URL}fighters`}>選手一覧</a>
          <a href={`${import.meta.env.BASE_URL}quiz`}>クイズ</a>
          <a href={`${import.meta.env.BASE_URL}predict`}>勝利予想</a>
          <a href={`${import.meta.env.BASE_URL}me`}>マイページ</a>
        </nav>
      </div>
    </header>
    <main id="main">
      <slot />
    </main>
    <footer class="footer-fixed" role="contentinfo">
      <small>
        本サイトのテキストの一部は
        <a href="https://ja.wikipedia.org/" target="_blank" rel="noopener noreferrer">Wikipedia</a>
        を
        <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja" target="_blank" rel="noopener noreferrer">CC BY-SA 4.0</a>
        で再利用しています。
      </small>
    </footer>
    <script>
      // ナビの現在位置ハイライト
      const here = location.pathname;
      document.querySelectorAll('header nav a').forEach(a => {
        const href = a.getAttribute('href') || '';
        if (href && (here === href || here === href + '/' || here.startsWith(href + '/'))) {
          a.setAttribute('aria-current', 'page');
        }
      });
    </script>
  </body>
  
</html>
